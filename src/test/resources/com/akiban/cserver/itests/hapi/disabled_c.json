{

"setup" : {
    "schema" : "schema1",
    "tables" : {
        "customer" :["id int key, name varchar(32)"]
        "order" :   ["id int key, cid int",
                    "CONSTRAINT __akiban_o FOREIGN KEY __akiban_c (cid) REFERENCES customer(id)"]
        "item" :    ["id int key, oid int, description varchar(32)",
                    "CONSTRAINT __akiban_i FOREIGN KEY __akiban_c (oid) REFERENCES order(id)"]
        "address" : ["id int key, cid int, street varchar(64)",
                    "CONSTRAINT __akiban_a FOREIGN KEY __akiban_c (cid) REFERENCES customer(id)"
    },
    "write_rows" : { 
        "customer" : [
            [1, "person1"],
            [2, "person2"]
        ],
        "order" : [
            [1, 1]
        ],
        "item" : [
            [1, 1, "some item"],
            [2, 1, "another item"]
        ],
        "address" : [
            [1, 2, "person2's address"]
        ]
    }
}

"tests" : {

    "nodata" : {
        "write_rows" : false,
        "passing" : false,
        "get" : "coi:customer:id=5",
        "expect" : []
    },
    
    "withdata" : {
        "write_rows" : true,
        "get" : "coi:customer:id=1",
        "expect" : [
            "customer" : [
            {
                    "id" : 1,
                    "name" : "person1",
                    "order" : [
                    {
                        "id" : 1,
                        "c_id" : 1,
                        "item" : [
                        {
                            "id" : 1,
                            "oid" : 1,
                            "description" : "some item"
                        },
                        {
                            "id" : 1,
                            "oid" : 2,
                            "description" : "another item"
                        }
                        ]
                    }
                    ]
            }
            ]
        ]
    },
}

}