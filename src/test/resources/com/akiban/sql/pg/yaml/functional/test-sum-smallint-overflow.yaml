# Test smallint overflow
# Sum of large values overflows 
# bug 890227
---
- CreateTable: t (smallint_field smallint)
---
- Statement: INSERT INTO t (smallint_field) VALUES (32767)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: [[32767]]
---
- Statement: INSERT INTO t (smallint_field) VALUES (1)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: [[32768]]
---
- Statement: INSERT INTO t (smallint_field) VALUES (-1)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: [[32767]]
---
- Statement: DELETE FROM t
---
- Statement: INSERT INTO t (smallint_field) VALUES (2147483647)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: !select-engine { sys-mysql: [[32767]], newtypes: [[32767]], all: [[-1]] }
---
- Statement: INSERT INTO t (smallint_field) VALUES (1)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: !select-engine { sys-mysql: [[32768]], newtypes: [[32768]], all: [[0]] }
---
- Statement: INSERT INTO t (smallint_field) VALUES (-1)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: !select-engine { sys-mysql: [[32767]], newtypes: [[32767]], all: [[-1]] }
...
