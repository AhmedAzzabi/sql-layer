# Test the TIMEDIFF() function
# BUG 903498: Invalid. Becase  
#    SELECT TIMEDIFF(timestamp_field, ?) from all_types] 
#    - params: [['00:00:01']]
#    - output: [['12:30:59']]
# would turns into SELECT TIMEDIFF (timestamp_field, <time_field>) => mismatched arg type => error.
#
# BUG 921088: TIMEDIFF's implementation mistakenly causes mismatch between expression's type and expression evaluation's type
# Status fix comitted
#
# BUG 921095: NEGATIVE value causes bad value for type time
# Status new
#
# BUG 921122: decimal (double/float) not convertible to type
# status new
#
# BUG 921117: TIMEDIFF throws IvalidAgrgumentException as opposed to returning NULL
# Status new (this may or may not be a bug)
---
- Include: all-types-schema.yaml
--- #bug 903498
- Statement: INSERT INTO all_types (timestamp_field) VALUES ('2000-01-01 01:05:06') 
---
- Statement: select TIMEDIFF(timestamp_field, ?) from all_types;
- params: [['00:00:01']]
- output: [['12:30:59']]
---
- Statement: select TIMEDIFF(timestamp_field, '00:00:01') from all_types;
- output: [['01:05:05']]
--- # bug 921088
- Statement: select 1 from all_types WHERE TIMEDIFF(time_field, ?) != '01:01:23';
- params: [['00:00:01']]
- output: [['1']]
--- #bug 921095
- Statement: select TIMEDIFF('00:00:01', '12:34:55') from all_types;
- output: [['-12:34:54']]
--- #bug 921095
- Statement: select TIMEDIFF('12:34:55', '23:59:59') from all_types;
- output: [['-11:25:04']]
--- #921122
- Statement: select TIMEDIFF('12:34:55', 17.495) from all_types;
- output: [['12:34:37.505000']]
--- # bug 921124
- Statement: select TIMEDIFF('12:34:55', 'TIME TO GO') from all_types;
- output: [['12:34:55']]
--- #921122
- Statement: select TIMEDIFF(5.324, 2.112) from all_types;
- output: [['00:00:03.212000']]
--- # bug 921117
- Statement: select TIMEDIFF('12:34:55', '2012-04-05 01:59:59') from all_types;
- output: [['null']]
--- # bug 921117
- Statement: select TIMEDIFF('2012-04-05 13:59:59', '03:34:55') from all_types;
- output: [['null']]
...