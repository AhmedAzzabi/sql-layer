# Test smallint overflow
# Sum of large values overflows incorrectly
---
- CreateTable: t (smallint_field smallint)
---
- Statement: INSERT INTO t (smallint_field) VALUES (32767)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: [[32767]]
---
- Statement: INSERT INTO t (smallint_field) VALUES (1)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: [[32768]]
---
- Statement: INSERT INTO t (smallint_field) VALUES (-1)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: [[32767]]
---
- Statement: DELETE FROM t
---
- Statement: INSERT INTO t (smallint_field) VALUES (2147483647)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: [[2147483647]]
---
- Statement: INSERT INTO t (smallint_field) VALUES (1)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: [[2147483648]]
---
- Statement: INSERT INTO t (smallint_field) VALUES (-1)
---
- Statement: SELECT sum(smallint_field) FROM t
- output: [[2147483647]]
...
