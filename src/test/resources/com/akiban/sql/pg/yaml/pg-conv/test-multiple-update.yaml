# generated by com.akiban.sql.test.PGTestConverter on Sat Dec 31 12:19:30 EST 2011
---
- Include: all-update-schema.yaml
---
- Statement: BEGIN; UPDATE items SET quan = 0; COMMIT; 
#- output: [['orders,101,1,1029729'],['items,1011,101,1234,0'],['items,1012,101,4567,0'],['orders,102,1,1029730'],['customers,2,Jones'],['orders,201,2,1029731'],['items,2011,201,9876,0']]
---
- Statement: UPDATE customers SET name = 'Smyth' WHERE name = 'Smith'; UPDATE customers SET name = 'Johns' WHERE name = 'Jones'; 
#- output: [['orders,101,1,1029729'],['items,1011,101,1234,100'],['items,1012,101,4567,50'],['orders,102,1,1029730'],['customers,2,Johns'],['orders,201,2,1029731'],['items,2011,201,9876,1']]
---
- Statement: SET SESSION CHARACTERISTICS AS TRANSACTION READ ONLY; SELECT name FROM customers; 
#- output: [['orders,101,1,1029729'],['items,1011,101,1234,100'],['items,1012,101,4567,50'],['orders,102,1,1029730'],['customers,2,Jones'],['orders,201,2,1029731'],['items,2011,201,9876,1']]
---
- Statement: SET SESSION CHARACTERISTICS AS TRANSACTION READ ONLY; UPDATE customers SET name = 'Kilroy' WHERE cid = 1; 
#- rowcount: 0
--- # StackTrace: {} com.akiban.server.error.TransactionReadOnlyException: TRANSACTION_READ_ONLY: Write operation in read-only transaction
- Statement: BEGIN; SET TRANSACTION READ ONLY; SELECT name FROM customers; COMMIT; UPDATE customers SET name = 'Allowed' WHERE cid = 1; 
#- output: [['orders,101,1,1029729'],['items,1011,101,1234,100'],['items,1012,101,4567,50'],['orders,102,1,1029730'],['customers,2,Jones'],['orders,201,2,1029731'],['items,2011,201,9876,1']]
---
- Statement: BEGIN; UPDATE items SET quan = 0; ROLLBACK; 
#- output: [['orders,101,1,1029729'],['items,1011,101,1234,100'],['items,1012,101,4567,50'],['orders,102,1,1029730'],['customers,2,Jones'],['orders,201,2,1029731'],['items,2011,201,9876,1']]
...
