# Test the YEAR function
---
# Suppress (skip) this test for two bugs: 
# Bug #901516 - YEAR() should be compable with INTEGER parameters
# Bug #901511 - YEAR() returning years less than 1000 with leading 0's
- Properties: sys-aksql
- suppressed: true

---
- Include: all-types-schema.yaml
---
- Statement: INSERT INTO all_types (varchar_field) VALUES (null)
---
- Statement: INSERT INTO all_types (varchar_field) VALUES
    ('0000-00-00'),
    ('0000-01-01'), ('0001-11-11'), ('0020-02-22'), ('0300-03-30'),
    ('1961-01-11'), ('2001-09-11'), ('3210-04-04'), ('9999-01-01'),
    ('1234567-00-00'), ('abc')
---
- Statement: SELECT YEAR(varchar_field) FROM all_types
- output: [[null], [null],
           [0], [1], [20], [300],
           [1961], [2001], [3210], [9999],
           [null], [null]]
---
- Statement: SELECT varchar_field FROM all_types
    WHERE YEAR(varchar_field) > '100'
- output: [['0300-03-30'],
           ['1961-01-11'], ['2001-09-11'], ['3210-04-04'], ['9999-01-01']]

---
- Statement: SELECT YEAR(varchar_field) > '100' FROM all_types
- output: [[null], [null],
           [false], [false], [false], [true],
           [true], [true], [true], [true],
           [null], [null]]

---
- Statement: SELECT varchar_field FROM all_types
    WHERE YEAR(varchar_field) <= ?
- params: [[1961]]
- output: [['0000-01-01'], ['0001-11-11'], ['0020-02-22'], ['0300-03-30'],
           ['1961-01-11']]

...
