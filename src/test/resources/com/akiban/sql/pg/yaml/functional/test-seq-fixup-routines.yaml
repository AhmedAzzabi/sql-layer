# Can go away whenever SequenceFixUpRoutines does

# Requires global lock enabled, skip in FTS
---
- Properties: sys-aksql
- suppressed: true

# Re-set a sequence
---
- Statement: CREATE SEQUENCE s1 START WITH 1 INCREMENT BY 1
---
- Statement: SELECT NEXT VALUE FOR s1
- output: [[1]]
---
- Statement: CALL sys.seq_tree_reset('test', 's1', 150)
---
- Statement: SELECT CURRENT VALUE FOR s1
- output: [[150]]
---
- Statement: DROP SEQUENCE s1 RESTRICT

# ALTER BY DEFAULT to ALWAYS
---
- Statement: CREATE TABLE t(id INT NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY (START WITH 5))
---
- Statement: SELECT identity_generation FROM information_schema.columns WHERE table_name='t' AND column_name='id'
- output: [['BY DEFAULT']]
---
- Statement: CALL sys.seq_identity_default_to_always('test', 't', 'id')
---
- Statement: SELECT identity_generation FROM information_schema.columns WHERE table_name='t' AND column_name='id'
- output: [['ALWAYS']]
---
# Expect value to be ignored due to ALWAYS
- Statement: INSERT INTO t VALUES (100)
---
- Statement: SELECT * FROM t
- output: [[5]]
---
- Statement: DROP TABLE t
