//function _register(registrar) {
//    java.lang.System.out.println("Executing the _register function");
//    registrar.register("method=GET path=cnames function=customerNames in=(QP:prefix String required) out=String");
//};

//## Endpoint method=GET path=cnames
//##   function=customerNames in=(QP:prefix String required) out=String

function customerNames(s) {
    var result = s;
    var extent = Packages.com.akiban.direct.Direct.context.extent;
    for (customer in Iterator(extent.customers)) {
      result += "," + customer.name;
    }
    return result;
}
