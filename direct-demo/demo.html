
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>CodeMirror: Autocomplete Demo</title>
    <link rel="stylesheet" href="codemirror/lib/codemirror.css">
    <script src="codemirror/lib/codemirror.js"></script>
    <script src="codemirror/lib/util/simple-hint.js"></script>
    <link rel="stylesheet" href="codemirror/lib/util/simple-hint.css">
    <script src="codemirror/lib/util/javascript-hint.js"></script>
    <script src="codemirror/mode/javascript/javascript.js"></script>
    <link rel="stylesheet" href="codemirror/doc/docs.css">
    <style type="text/css">.CodeMirror {border: 1px solid #eee;} .CodeMirror-scroll { height: 100% }</style>
  </head>
<body>
    <h1>Akiban Direct Demo</h1>

<form>
<table>
<tr><td>Space: </td><td> <input type="text" name="space"/></td></tr>
<tr><td>Module name: </td><td><input type="text" name="module"/></td></tr>
</table>
<br />
<textarea id="code" name="code">
var c;
var result = "";
for (c in Iterator(dcontext.extent.getCustomerList().where("cid = 1"))) {
  result += "customer: " + c.cid + " " +  c.name + '\n';
  for (o in Iterator(c.orderList)) {
    result += " order: " + o.oid + " " + o.order_date + '\n';
    var p = o.customer;
    result += "   parent's customer: " + p.cid + " " +  p.name + '\n';
  } 
}
result;
</textarea>
<br />
<input type="button" name="load" value="Install" />
<input type="button" name="remove" value="remove" />
<input type="button" name="get" value="GET"><input type="button" name="post" value="POST">
<input type="text" name="params" size="80"/>
</form>

    <script>
      CodeMirror.commands.autocomplete = function(cm) {
        CodeMirror.simpleHint(cm, CodeMirror.javascriptHint);
      }
      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
        lineNumbers: true,
        extraKeys: {"Ctrl-Space": "autocomplete"}
      });
    </script>
  </body>
</html>
